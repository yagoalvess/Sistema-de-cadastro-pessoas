<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
        <title>Tela Cadastro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body class="p-3 mb-2 bg-secondary text-white">
    
    <div class="container-sm">
        <form id="myForm" action="cadastrar" method="POST">
            <div class="mb-3">
              <label for="cpf" class="form-label">CPF</label>
              <input required oninput="mascara(this)" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" type="text" class="form-control" id="cpf" name="cpf" aria-describedby="emailHelp">
            </div>
            <div class="mb-3">
              <label for="nome" class="form-label">Nome</label>
              <input minlength="4" pattern="[a-z\s]+$" required type="text" class="form-control" id="nome" name="nome">
            </div>
            <div class="mb-3">
                <label for="dataNascimento" class="form-label">Data de Nascimento</label>
                <input required type="date" class="form-control" id="dataNascimento" name="dataNascimento">
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
          </form>

          <br>

          <table class="table">
            <tr>
                <th>CPF</th>
                <th>Nome</th>
                <th>Data nascimento</th>
            </tr>
            {% for item in result %}
            <tr>
                <td scope="col">{{item["CPF"]}}</td>
                <td scope="col">{{item["Nome"]}}</td>
                <td scope="col">{{item["DataNascimento"]}}</td>
            </tr>
            {% endfor %}
        </table>
    </div>


    <script !src="">


        function mascara(i){

        var v = i.value;

       if(isNaN(v[v.length-1])){
          i.value = v.substring(0, v.length-1);
          return;
       }

       i.setAttribute("maxlength", "14");
       if (v.length == 3 || v.length == 7) i.value += ".";
       if (v.length == 11) i.value += "-";

}</script>
    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>